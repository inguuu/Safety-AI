🚀 KT 건강검진 AI 알림이 – MS AI MVP 프로젝트 기획안
📌 1. 프로젝트 개요
✅ 문제 정의

기존 건강검진 AI 에이전트는 형식적이고 키워드 기반으로만 작동하며 자연어 질의 해석 불가

사용자 입장에서 검사항목, 센터 정보, 위험 요인 등 실질적인 질의 응답이 어려움

관련 자료는 PDF, DB, 웹 등 다양한 포맷에 흩어져 있어 검색 접근이 어려움

🎯 대상 사용자

건강검진 정보 제공자 (센터 담당자, 기업 보건관리자)

건강검진 대상자 (일반 직원, 수검자)

💡 솔루션 개요

자연어로 건강검진에 대한 질의를 입력하면, AI가 유사어 치환 및 전처리를 통해 관련 정보를 검색하고, 필요시 GPT로 직접 응답

RAG 기반 챗봇으로 정확하고 근거 기반의 답변 제공

📊 2. 시스템 아키텍처 (Architecture Diagram)
┌────────────┐
│ 사용자 질문 │
└─────┬──────┘
      ▼
┌──────────────────────────────┐
│ 🔁 전처리: 유사어 치환 GPT 호출 │  ← ex: '기관' → '센터' 등
└─────┬────────────────────────┘
      ▼
┌──────────────────────────────┐
│ 🔎 Azure AI Search 호출      │ ← 검색어 OR 전처리어
└─────┬────────────────────────┘
      │          └─(없으면)
      ▼                         ▼
┌────────────┐         ┌────────────────────┐
│ 문서 검색 결과 │         │  GPT 직접 응답 생성    │
└─────┬──────┘         └─────────┬──────────┘
      ▼                         ▼
┌────────────────────────────────────────┐
│ 💬 근거 기반 답변 생성 및 응답 반환     │
└────────────────────────────────────────┘

✅ 주요 구성 요소

Azure AI Search (Indexer, Skillset, Index)

Azure OpenAI (GPT-4.1-mini)

Streamlit UI (ChatGPT 스타일)

Blob Storage + PDF 문서 OCR 스킬

🧠 3. 핵심 기술 포인트
✅ 전처리 기반 유사어 치환 (Prompt Engineering)

"진료항목" → "검사항목", "기관" → "센터" 등의 치환을 GPT를 활용한 자연스러운 문장 재구성 방식으로 처리

단순 문자열 치환이 아닌 문맥 기반 의미치환

✅ RAG 구조 구현

Azure Search → 근거 문서 검색

GPT는 문서 기반으로만 응답 (GROUNDED_PROMPT)

검색 실패 시 GPT가 유연하게 직접 응답

✅ Azure AI Search Skillset

PDF 문서 내 이미지에서 텍스트 추출하는 OCR Skill 포함

자동 Indexer 생성 → Blob 내 신규 문서 자동 색인화

✅ 운영 자동화 스크립트 구성

UploadDocs.cmd : 문서 업로드

index_setup.py : 인덱스 초기 세팅

datasource_indexer.py : DataSource, Skillset, Indexer 자동 생성 및 실행

run_indexer.py : 수동 실행용 스크립트

🖥️ 4. 라이브 데모
Streamlit 웹 데모 기능

자연어 질의 입력 (예: “고혈압 위험요인이 뭐야?”)

전처리된 유사어 자동 치환

Azure Search에서 관련 문서 검색

근거 기반 응답 or GPT 직접 생성 응답 출력

💻 데모 화면 예시

🤖 사용자 입력 영역 (ChatGPT 스타일)

📑 관련 문서 리스트 포함된 답변

❓ 예시 질문 및 가이드 제공

📂 실제 PDF 기반 검색 결과 시연

🔭 5. 향후 개선 및 확장 계획
개선 방향	설명
🔁 유사어 DB 확장	산업군/센터별 사용자 언어 다양성을 반영한 유사어 테이블 확장
🧠 의학 지식 강화	진단 기준, 위험 수치 등 기반 GPT 파인튜닝 또는 정형화된 FAQ 연동
🏥 EMR 연동	실시간 환자정보 기반 개인화된 검진 리포트 제공 가능성 탐색
🧾 레포트 생성 자동화	검진 결과 요약 보고서 PDF 생성 기능 추가
🧪 LangChain 기반 에이전트화	툴을 이용한 유연한 멀티 스텝 질의 대응 및 상태 추론 가능
📂 프로젝트 폴더 구조 (요약)
📁 ai-health-agent/
├── app.py                  # Streamlit UI + GPT 연결
├── index_setup.py          # Azure Search Index 구성
├── datasource_indexer.py   # Skillset / DataSource / Indexer 자동화
├── run_indexer.py          # 인덱서 수동 실행
├── UploadDocs.cmd          # 문서 업로드 스크립트
├── .env                    # 키/엔드포인트 정보
└── README.md               # 💬 현재 문서

🧩 사용 기술 스택
구분	기술
💬 자연어 처리	Azure OpenAI (GPT-4.1-mini)
🔍 검색	Azure AI Search (Skillset, Indexer, Blob)
🧠 전처리	Prompt 기반 유사어 처리
🧑‍💻 프론트	Streamlit Chat UI
📁 문서	PDF (OCR 포함) + 기타 DB
✅ 결론

현재 대부분의 검진 챗봇은 자연어 인식 불가, 형식적 응답에 그침

본 프로젝트는 실제 현업 PDF/DB 문서를 기반으로 한 근거 기반 응답 제공

GPT + Azure Search 통합으로 정확성, 실용성, 확장성을 확보

⚡ KT 건강검진 AI 알림이는 단순한 챗봇이 아닌,
현업 검진자료를 기반으로 정확한 정보 전달이 가능한 의료정보 에이전트입니다.
